<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Multi-Step</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .step {
            display: none;
        }

        .step.active {
            display: block;
        }

        .progress-container {
            display: flex;
            justify-content: space-between;
            margin: 2rem auto;
            position: relative;
            max-width: 600px;
        }

        .progress-container::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 2px;
            background: #ccc;
            transform: translateY(-50%);
            z-index: 1;
        }

        .step-progress {
            position: absolute;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            height: 4px;
            background: #3498db;
            z-index: 2;
            transition: width 0.3s ease;
        }

        .step-number {
            background-color: aliceblue;
            height: 40px;
            width: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            z-index: 3;
            position: relative;
            cursor: pointer;
            font-weight: bold;
            border: 2px solid #3498db;
            font-size: 20px;
        }

        .step-number.active {
            border-color: orange;
            background: #ffe4b3;
            color: orange;
        }

        .step-number.completed {
            border-color: #3498db;
            background: #d9eaf7;
            color: #3498db;
        }
    </style>
</head>
<body>

<div class="container mt-5">
    <h4 class="font-weight-bold">Informasi Peserta</h4>
    <p>Silahkan masukkan informasi pribadi anda dengan benar secara step by step.</p>
    <div class="progress-container">
        <div class="step-progress" id="step-progress"></div>
        <div class="step-number active" data-step="1">1</div>
        <div class="step-number" data-step="2">2</div>
        <div class="step-number" data-step="3">3</div>
        <div class="step-number" data-step="4">4</div>
        <div class="step-number" data-step="5">5</div>
    </div>

    <form id="multiStepForm">
        <div class="step active" data-step="1">
            <div class="run-category">
                <span class="title">Kategori Lari</span>
                <legend>Kompetisi</legend>
                <fieldset>
                    <span>Singel</span>
                    <div class="form-check mt-3">
                        <input type="radio" id="single10k" name="kompetisi" class="form-check-input">
                        <label for="single10k" class="form-check-label">10 k — Rp 575.000</label> 
                    </div>
                    <div class="form-check mb-3">
                        <input type="radio" id="single5k" name="kompetisi" class="form-check-input">
                        <label for="single5k" class="form-check-label">5K — Rp 525.000</label>
                    </div>
                </fieldset>
                <fieldset>
                    <span>Group</span>
                    <div class="form-check mt-3">
                        <input type="radio" id="group10k" name="kompetisi" class="form-check-input">
                        <label for="group10k" class="form-check-label">10 k — Rp 575.000</label> 
                    </div>
                    <div class="form-check">
                        <input type="radio" id="group5k" name="kompetisi" class="form-check-input">
                        <label for="group5k" class="form-check-label">5K — Rp 525.000</label>
                    </div>
                </fieldset>
                <button type="button" class="btn btn-primary py-2 mt-4 next-step"><strong>Selanjutnya</strong></button>
            </div>
        </div>

        <div class="step" data-step="2">
            <!-- Step 2 content goes here -->
            <p>Konten langkah 2</p>
            <button type="button" class="btn btn-secondary py-2 mt-4 prev-step"><strong>Kembali</strong></button>
            <button type="button" class="btn btn-primary py-2 mt-4 next-step"><strong>Selanjutnya</strong></button>
        </div>

        <div class="step" data-step="3">
            <!-- Step 3 content goes here -->
            <p>Konten langkah 3</p>
            <button type="button" class="btn btn-secondary py-2 mt-4 prev-step"><strong>Kembali</strong></button>
            <button type="button" class="btn btn-primary py-2 mt-4 next-step"><strong>Selanjutnya</strong></button>
        </div>

        <div class="step" data-step="4">
            <!-- Step 4 content goes here -->
            <p>Konten langkah 4</p>
            <button type="button" class="btn btn-secondary py-2 mt-4 prev-step"><strong>Kembali</strong></button>
            <button type="button" class="btn btn-primary py-2 mt-4 next-step"><strong>Selanjutnya</strong></button>
        </div>

        <div class="step" data-step="5">
            <!-- Step 5 content goes here -->
            <p>Konten langkah 5</p>
            <button type="button" class="btn btn-secondary py-2 mt-4 prev-step"><strong>Kembali</strong></button>
            <button type="submit" class="btn btn-primary py-2 mt-4"><strong>Submit</strong></button>
        </div>
    </form>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const steps = document.querySelectorAll('.step');
        const stepProgress = document.getElementById('step-progress');

        function updateProgress() {
            const activeStep = document.querySelector('.step.active');
            const activeIndex = Array.from(steps).indexOf(activeStep);
            const totalSteps = steps.length - 1;
            const progressPercent = activeIndex === totalSteps ? (totalSteps / totalSteps) * 120 : ((activeIndex + 1) / steps.length) * 120;
            stepProgress.style.width = `${progressPercent}%`;

            steps.forEach((s, i) => {
                if (i < activeIndex) {
                    s.classList.add('completed');
                    s.classList.remove('active');
                } else if (i === activeIndex) {
                    s.classList.add('active');
                    s.classList.remove('completed');
                } else {
                    s.classList.remove('completed', 'active');
                }
            });

            document.querySelectorAll('.step-number').forEach((s, i) => {
                if (i < activeIndex) {
                    s.classList.add('completed');
                    s.classList.remove('active');
                } else if (i === activeIndex) {
                    s.classList.add('active');
                    s.classList.remove('completed');
                } else {
                    s.classList.remove('completed', 'active');
                }
            });
        }

        document.querySelectorAll('.next-step').forEach(button => {
            button.addEventListener('click', () => {
                const currentStep = document.querySelector('.step.active');
                const nextStep = currentStep.nextElementSibling;
                if (nextStep) {
                    currentStep.classList.remove('active');
                    nextStep.classList.add('active');
                    updateProgress();
                }
            });
        });

        document.querySelectorAll('.prev-step').forEach(button => {
            button.addEventListener('click', () => {
                const currentStep = document.querySelector('.step.active');
                const prevStep = currentStep.previousElementSibling;
                if (prevStep) {
                    currentStep.classList.remove('active');
                    prevStep.classList.add('active');
                    updateProgress();
                }
            });
        });

        updateProgress(); // Initial update
    });

//     document.addEventListener('DOMContentLoaded', function () {
//     const steps = document.querySelectorAll('.step');
//     const stepProgress = document.getElementById('step-progress');

//     function updateProgress() {
//         const activeStep = document.querySelector('.step.active');
//         const activeIndex = Array.from(steps).indexOf(activeStep);
//         const totalSteps = steps.length - 1;
//         const progressPercent = activeIndex === totalSteps ? (totalSteps / totalSteps) * 120 : ((activeIndex + 1) / steps.length) * 120;
//         stepProgress.style.width = `${progressPercent}%`;

//         steps.forEach((s, i) => {
//             if (i < activeIndex) {
//                 s.classList.add('completed');
//                 s.classList.remove('active');
//             } else if (i === activeIndex) {
//                 s.classList.add('active');
//                 s.classList.remove('completed');
//             } else {
//                 s.classList.remove('completed', 'active');
//             }
//         });
//     }

//     steps.forEach((step, index) => {
//         step.addEventListener('click', () => {
//             steps.forEach((s, i) => {
//                 if (i < index) {
//                     s.classList.add('completed');
//                     s.classList.remove('active');
//                 } else if (i === index) {
//                     s.classList.add('active');
//                     s.classList.remove('completed');
//                 } else {
//                     s.classList.remove('active', 'completed');
//                 }
//             });
//             updateProgress();
//         });
//     });

//     updateProgress(); // Initial update
// });
</script>

</body>
</html>
